<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			window.onload=function(){
				/*
				 *我们希望，只绑定一次事件，即可应用到多个元素上，即使元素是后面添加的
				 * 我们可以尝试将其绑定给共同的祖先元素
				 * 
				 * 事件的委派
				 *   指将事件统一绑定给元素的共同祖先元素，这样当后代上的事件触发时，
				 *   会一直冒泡到祖先元素，从而通过祖先元素的响应函数来处理事件
				 * 
				 *  事件委派是利用冒泡，通过委派可以减少事件的绑定的次数，提高程序的性能
				 */
				 var btn01=document.getElementById("btn01");
				 var ul=document.getElementById("ul");
				 btn01.onclick=function(){
				 	var li=document.createElement("li");
				 	li.innerHTML="<a href='javascript:;' class='link'>新添加超链接</a>";
				 	ul.appendChild(li);
				 }
				 //为ul绑定单击响应函数
				 //判断如果点击a就触发，否则将不触发
				 ul.onclick=function(event){
				 	/*
				 	 * target
				 	 *   event中的target表示的是触发事件的对象
				 	 */
				 	event=event || window.event;
				 	//alert(event.target);
				 	if(event.target.className=="link"){
				 		alert("woshi");
				 	}
				 	
				 	//alert("woshi");
				 }
				/*
				 * 为每一个超链接绑定单击响应函数
				 * 这种响应函数对后来新添加的超链接没有效果
				 */
				/*var all=document.getElementsByTagName("a");
				for(var i=0;i<all.length;i++){
					all[i].onclick=function(){
						alert("我是a的单击响应函数");
						
					}
				}*/
			}
		</script>
	</head>
	<body>
		<button id="btn01">添加超链接</button>
		<ul id="ul" style="background: #baf;">
			<li><a href="javascript:;" class="link">超链接一</a></li>
			<li><a href="javascript:;" class="link">超链接二</a></li>
			<li><a href="javascript:;" class="link">超链接三</a></li>
			<li><a href="javascript:;" class="link">超链接四</a></li>
		</ul>
	</body>
</html>
